<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 진로 탐색</title>
    <!-- Tailwind CSS CDN을 로드합니다. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to bottom right, #f0f4f8, #e0e7ef);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <!-- 메인 컨테이너 -->
    <div class="bg-white p-8 rounded-2xl shadow-xl max-w-2xl w-full">
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">AI 진로 탐색</h1>

        <!-- 진행 상태 바 -->
        <div class="mb-8">
            <div class="w-full bg-gray-200 rounded-full h-2.5">
                <div id="progressBar" class="bg-sky-500 h-2.5 rounded-full transition-all duration-500 ease-in-out" style="width: 0%;"></div>
            </div>
            <p id="progressText" class="text-center text-sm text-gray-500 mt-2">1 / 3 단계</p>
        </div>

        <!-- 단계별 내용 -->
        <!-- 1. 시작 페이지 -->
        <div id="step-start" class="step-content">
            <p class="text-center text-gray-600 mb-6">
                경력단절 여성들을 위한 AI 진로 탐색 웹페이지입니다.<br>
                나의 강점과 관심사를 알아보고, AI 분야의 새로운 가능성을 발견해 보세요.
            </p>
            <button id="startButton" class="w-full bg-sky-500 text-white font-bold py-3 px-4 rounded-xl hover:bg-sky-600 transition-colors duration-300 shadow-md">
                시작하기
            </button>
        </div>

        <!-- 2. 강점/관심사 파악 퀴즈 -->
        <div id="step-strengths" class="step-content hidden">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4 text-center">나의 강점/관심사 파악하기</h2>
            <div id="strengthsQuiz" class="space-y-6">
                <!-- 질문이 동적으로 로드됩니다 -->
            </div>
            <button id="strengthsNextButton" class="w-full bg-sky-500 text-white font-bold py-3 px-4 rounded-xl mt-6 hover:bg-sky-600 transition-colors duration-300 shadow-md">
                다음 단계로
            </button>
        </div>

        <!-- 3. AI 지식 테스트 -->
        <div id="step-knowledge" class="step-content hidden">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4 text-center">AI 관련 기본 지식 테스트</h2>
            <div id="knowledgeQuiz" class="space-y-6">
                <!-- 질문이 동적으로 로드됩니다 -->
            </div>
            <button id="knowledgeNextButton" class="w-full bg-sky-500 text-white font-bold py-3 px-4 rounded-xl mt-6 hover:bg-sky-600 transition-colors duration-300 shadow-md">
                결과 보기
            </button>
        </div>

        <!-- 4. 결과 페이지 (직무 포트폴리오) -->
        <div id="step-results" class="step-content hidden">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4 text-center">맞춤형 AI 직무 포트폴리오</h2>
            <div id="userProfileSummary" class="bg-gray-100 p-4 rounded-xl mb-6 text-gray-700 text-center">
                <!-- 사용자 프로필 요약이 여기에 표시됩니다 -->
            </div>
            <div id="jobRecommendations" class="space-y-6">
                <!-- 추천 직무 카드가 여기에 동적으로 생성됩니다 -->
            </div>
        </div>
    </div>

    <script>
        // 전역 상태 변수
        let currentStep = 1;
        let strengthsScore = 0;
        let knowledgeScore = 0;

        // 질문 데이터
        const strengthsQuestions = [
            {
                question: "평소에 어떤 활동에 가장 큰 즐거움을 느끼시나요?",
                options: [
                    { text: "꼼꼼하게 자료를 정리하고 분류하는 일", score: 10 },
                    { text: "사람들과 소통하며 문제를 해결하는 일", score: 5 },
                    { text: "새로운 기술이나 도구를 배우고 익히는 일", score: 3 }
                ]
            },
            {
                question: "문제를 만났을 때, 어떻게 해결하는 편인가요?",
                options: [
                    { text: "체계적인 계획을 세우고 순서대로 해결한다.", score: 10 },
                    { text: "주변 사람들과 의논하고 협력한다.", score: 5 },
                    { text: "직접 부딪혀보며 시행착오를 겪는다.", score: 3 }
                ]
            },
            {
                question: "직업을 선택할 때 가장 중요하게 생각하는 것은?",
                options: [
                    { text: "안정적이고 예측 가능한 환경", score: 10 },
                    { text: "사람들에게 도움이 되는 보람 있는 일", score: 5 },
                    { text: "창의적이고 자유롭게 일하는 환경", score: 3 }
                ]
            }
        ];

        const knowledgeQuestions = [
            {
                question: "인공지능(AI)이란 무엇인가요?",
                options: [
                    { text: "사람처럼 생각하고 행동하는 컴퓨터 시스템", correct: true },
                    { text: "스스로 움직이는 로봇 팔", correct: false },
                    { text: "최신 스마트폰의 이름", correct: false }
                ]
            },
            {
                question: "AI가 데이터를 '학습'한다는 것은 어떤 의미인가요?",
                options: [
                    { text: "데이터를 외워서 시험을 보는 것", correct: false },
                    { text: "주어진 데이터를 분석해 규칙이나 패턴을 찾는 것", correct: true },
                    { text: "새로운 데이터를 만드는 것", correct: false }
                ]
            },
            {
                question: "AI와 관련된 직업이 아닌 것은 무엇인가요?",
                options: [
                    { text: "데이터 라벨러", correct: false },
                    { text: "AI 개발자", correct: false },
                    { text: "버스 운전기사", correct: true }
                ]
            }
        ];

        // UI 요소
        const steps = ['start', 'strengths', 'knowledge', 'results'];
        const stepContents = steps.map(id => document.getElementById(`step-${id}`));
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const strengthsQuizDiv = document.getElementById('strengthsQuiz');
        const knowledgeQuizDiv = document.getElementById('knowledgeQuiz');
        const jobRecommendationsDiv = document.getElementById('jobRecommendations');
        const userProfileSummaryDiv = document.getElementById('userProfileSummary');

        // 이벤트 리스너
        document.getElementById('startButton').addEventListener('click', () => {
            currentStep = 2;
            renderStep();
        });

        document.getElementById('strengthsNextButton').addEventListener('click', () => {
            if (validateQuiz('strengths')) {
                calculateStrengthsScore();
                currentStep = 3;
                renderStep();
            } else {
                alert('모든 질문에 답해주세요.');
            }
        });

        document.getElementById('knowledgeNextButton').addEventListener('click', () => {
            if (validateQuiz('knowledge')) {
                calculateKnowledgeScore();
                currentStep = 4;
                renderStep();
            } else {
                alert('모든 질문에 답해주세요.');
            }
        });

        // 단계 렌더링 함수
        function renderStep() {
            // 모든 단계를 숨깁니다.
            stepContents.forEach(el => el.classList.add('hidden'));
            // 현재 단계를 보여줍니다.
            document.getElementById(`step-${steps[currentStep - 1]}`).classList.remove('hidden');

            // 진행 상태 바 업데이트
            let progressPercentage = 0;
            if (currentStep > 1) {
                progressPercentage = ((currentStep - 1) / (steps.length - 1)) * 100;
            }
            progressBar.style.width = `${progressPercentage}%`;
            progressText.textContent = `${currentStep - 1} / ${steps.length - 1} 단계`;

            // 각 단계별 초기 렌더링
            if (currentStep === 2) {
                renderQuiz(strengthsQuizDiv, strengthsQuestions, 'strengths');
            } else if (currentStep === 3) {
                renderQuiz(knowledgeQuizDiv, knowledgeQuestions, 'knowledge');
            } else if (currentStep === 4) {
                displayResults();
            }
        }

        // 퀴즈 질문을 동적으로 생성하는 함수
        function renderQuiz(container, questions, quizType) {
            container.innerHTML = '';
            questions.forEach((q, index) => {
                const questionElement = document.createElement('div');
                questionElement.className = 'bg-gray-50 p-4 rounded-xl shadow-sm';
                questionElement.innerHTML = `
                    <p class="font-medium text-gray-700 mb-2">${index + 1}. ${q.question}</p>
                    <div class="space-y-2">
                        ${q.options.map((option, optIndex) => `
                            <label class="flex items-center cursor-pointer p-3 rounded-xl transition-colors duration-200 hover:bg-gray-200">
                                <input type="radio" name="${quizType}-q${index}" value="${optIndex}" class="form-radio text-sky-500 h-4 w-4">
                                <span class="ml-2 text-gray-700">${option.text}</span>
                            </label>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionElement);
            });
        }

        // 퀴즈 유효성 검사 (모든 질문에 답변했는지 확인)
        function validateQuiz(quizType) {
            const questions = quizType === 'strengths' ? strengthsQuestions : knowledgeQuestions;
            for (let i = 0; i < questions.length; i++) {
                const radios = document.getElementsByName(`${quizType}-q${i}`);
                const isAnswered = Array.from(radios).some(radio => radio.checked);
                if (!isAnswered) {
                    return false;
                }
            }
            return true;
        }

        // 강점/관심사 점수 계산
        function calculateStrengthsScore() {
            strengthsScore = 0;
            strengthsQuestions.forEach((q, index) => {
                const radios = document.getElementsByName(`strengths-q${index}`);
                const selectedOption = Array.from(radios).find(radio => radio.checked);
                if (selectedOption) {
                    const optionIndex = parseInt(selectedOption.value);
                    strengthsScore += q.options[optionIndex].score;
                }
            });
        }

        // AI 지식 점수 계산
        function calculateKnowledgeScore() {
            knowledgeScore = 0;
            knowledgeQuestions.forEach((q, index) => {
                const radios = document.getElementsByName(`knowledge-q${index}`);
                const selectedOption = Array.from(radios).find(radio => radio.checked);
                if (selectedOption) {
                    const optionIndex = parseInt(selectedOption.value);
                    if (q.options[optionIndex].correct) {
                        knowledgeScore += 1;
                    }
                }
            });
        }

        // 최종 결과 및 직무 추천 표시
        function displayResults() {
            let strengthType = '';
            if (strengthsScore >= 20) {
                strengthType = '꼼꼼하고 체계적인 분석가형';
            } else if (strengthsScore >= 10) {
                strengthType = '협업을 좋아하는 소통가형';
            } else {
                strengthType = '새로운 도전을 즐기는 혁신가형';
            }

            let knowledgeLevel = '';
            if (knowledgeScore === knowledgeQuestions.length) {
                knowledgeLevel = '초급';
            } else if (knowledgeScore >= 1) {
                knowledgeLevel = '입문';
            } else {
                knowledgeLevel = '기초가 필요한';
            }

            userProfileSummaryDiv.innerHTML = `
                <p><span class="font-bold">당신은 ${strengthType}</span>으로 분석력이 뛰어나고, 현재 AI에 대한 이해도는 <span class="font-bold">'${knowledgeLevel}'</span> 수준입니다.</p>
            `;

            jobRecommendationsDiv.innerHTML = '';
            const recommendations = getJobRecommendations();

            recommendations.forEach(job => {
                const jobCard = document.createElement('div');
                jobCard.className = 'bg-gray-50 p-6 rounded-xl shadow-md space-y-3';
                jobCard.innerHTML = `
                    <h3 class="text-xl font-bold text-sky-600">${job.title}</h3>
                    <p class="text-gray-600">${job.description}</p>
                    <div class="bg-gray-200 p-3 rounded-lg">
                        <p class="font-semibold text-sm text-gray-700">핵심 역량</p>
                        <ul class="list-disc list-inside text-gray-600 text-sm mt-1">
                            ${job.skills.map(skill => `<li>${skill}</li>`).join('')}
                        </ul>
                    </div>
                `;
                jobRecommendationsDiv.appendChild(jobCard);
            });
        }

        // 점수에 따른 직무 추천 로직
        function getJobRecommendations() {
            const recommendations = [];

            // 점수에 따른 주 추천
            if (strengthsScore >= 20) {
                recommendations.push({
                    title: "데이터 라벨러 (AI 데이터 가공 전문가)",
                    description: "인공지능이 학습할 수 있도록 데이터를 수집하고 분류, 가공하는 직무입니다. 꼼꼼함과 집중력이 중요한 직업입니다.",
                    skills: ["꼼꼼함", "집중력", "기본적인 컴퓨터 활용 능력", "규칙 준수"]
                });
            } else if (strengthsScore >= 10) {
                recommendations.push({
                    title: "AI 교육 보조 / 챗봇 시나리오 작가",
                    description: "AI 교육 프로그램을 지원하거나, 챗봇이 자연스럽게 대화할 수 있는 시나리오를 작성하는 직무입니다. 소통 능력과 창의성이 중요합니다.",
                    skills: ["뛰어난 소통 능력", "문장력", "공감 능력", "기획력"]
                });
            } else {
                recommendations.push({
                    title: "AI 서비스 기획 보조",
                    description: "인공지능 기술을 활용한 새로운 서비스를 기획하는 데 도움을 주는 직무입니다. 다양한 기술과 시장 트렌드에 대한 관심이 중요합니다.",
                    skills: ["기술에 대한 호기심", "문제 해결 능력", "빠른 학습 능력", "트렌드 파악 능력"]
                });
            }

            // 부가적인 추천 (모든 사용자에게)
            recommendations.push({
                title: "프롬프트 엔지니어",
                description: "대규모 언어 모델(LLM)이 원하는 답변을 생성하도록 질문(프롬프트)을 설계하는 직무입니다. 언어에 대한 이해와 논리적 사고력이 중요합니다.",
                skills: ["논리적 사고력", "문장 구성 능력", "창의성"]
            });

            return recommendations;
        }

        // 페이지 로드 시 초기 렌더링
        window.onload = function() {
            renderStep();
        };
    </script>

</body>
</html>
